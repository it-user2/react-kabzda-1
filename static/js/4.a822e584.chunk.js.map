{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Dialogs/DialogItem/DialogItem.js","components/Dialogs/Message/Message.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js"],"names":["module","exports","DialogItem","props","path","id","className","s","dialogItem","avatar","src","dialog","active","to","name","Message","my","messageBlock1","icon","message","messageBlock2","maxLength100","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","validate","required","Dialogs","state","dialogsPage","dialogsElements","dialogs","map","d","key","avatarUrl","messagesElements","messages","m","isAuth","dialogsItems","values","SendMessage","newMessageBody","compose","connect","dispatch","sendMessageCreator","withAuthRedirect"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,SAAW,0BAA0B,WAAa,8B,oBCAvGD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,OAAS,2BAA2B,OAAS,2BAA2B,OAAS,6B,oBCA/ID,EAAOC,QAAU,CAAC,QAAU,yBAAyB,cAAgB,+BAA+B,cAAgB,+BAA+B,KAAO,sBAAsB,OAAS,0B,iHCkB1KC,EAfI,SAACC,GAChB,IAAIC,EAAO,YAAcD,EAAME,GAE/B,OACI,yBAAKC,UAAWC,IAAEC,YACd,6BACI,yBAAKF,UAAWC,IAAEE,OAAQC,IAAKP,EAAMM,UAEzC,yBAAKH,UAAWC,IAAEI,OAAS,IAAMJ,IAAEK,QAC/B,kBAAC,IAAD,CAASC,GAAIT,GAAOD,EAAMW,S,kBCmB3BC,EA7BC,SAACZ,GACb,OAAIA,EAAMa,GAEF,yBAAKV,UAAWC,IAAEU,eACd,yBAAKX,UAAWC,IAAEW,MACd,yBAAKZ,UAAWC,IAAEE,OACdC,IAAI,iIAEZ,yBAAKJ,UAAWC,IAAEY,SACbhB,EAAMgB,UAMf,yBAAKb,UAAWC,IAAEa,eACd,yBAAKd,UAAWC,IAAEY,SACbhB,EAAMgB,SAEX,yBAAKb,UAAWC,IAAEW,MACd,yBAAKZ,UAAWC,IAAEE,OAEXC,IAAI,6G,yCCWzBW,EAAeC,YAAiB,KAgBhCC,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,EAdL,SAACrB,GACpB,OACI,0BAAMuB,SAAUvB,EAAMwB,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUhB,KAAM,iBAAkBiB,YAAa,qBAC1DC,SAAU,CAACC,IAAUZ,MAEhC,6BACI,6CAQDa,EA5CC,SAAC/B,GACb,IAAIgC,EAAQhC,EAAMiC,YAEdC,EAAkBF,EAAMG,QAAQC,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAY1B,KAAM0B,EAAE1B,KAAM2B,IAAKD,EAAEnC,GAAIA,GAAImC,EAAEnC,GAC/BI,OAAQ+B,EAAEE,eAC/DC,EAAmBR,EAAMS,SAASL,KAAI,SAAAM,GAAC,OAAI,kBAAC,EAAD,CAAS1B,QAAS0B,EAAE1B,QAASsB,IAAKI,EAAExC,GAAIW,GAAI6B,EAAE7B,QAE7F,IAAKb,EAAM2C,OAAQ,OAAO,kBAAC,IAAD,CAAUjC,GAAI,WAMxC,OACI,yBAAKP,UAAWC,IAAE+B,SACd,yBAAKhC,UAAWC,IAAEwC,cACbV,GAEL,yBAAK/B,UAAWC,IAAEqC,UACd,6BAAMD,IAEV,kBAACpB,EAAD,CAAqBG,SAZT,SAACsB,GACjB7C,EAAM8C,YAAYD,EAAOE,qB,wBCAlBC,sBACXC,aAfkB,SAACjB,GACnB,MAAO,CACHC,YAAaD,EAAMC,gBAIF,SAACiB,GACtB,MAAO,CACHJ,YAAa,SAACC,GACVG,EAASC,YAAmBJ,SAOpCK,IAFWJ,CAGbjB","file":"static/js/4.a822e584.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__11lwo\",\"messages\":\"Dialogs_messages__255b_\",\"newMessage\":\"Dialogs_newMessage__39Lyz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogItem\":\"DialogItem_dialogItem__3IYWW\",\"active\":\"DialogItem_active__2AMPU\",\"avatar\":\"DialogItem_avatar__1ULGG\",\"dialog\":\"DialogItem_dialog__1vzNc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__2n7O2\",\"messageBlock1\":\"Message_messageBlock1__17-F2\",\"messageBlock2\":\"Message_messageBlock2__3S_ER\",\"icon\":\"Message_icon__hUSKI\",\"avatar\":\"Message_avatar__9M_JV\"};","import React from 'react';\r\nimport s from './DialogItem.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = '/dialogs/' + props.id;\r\n\r\n    return (\r\n        <div className={s.dialogItem}>\r\n            <div>\r\n                <img className={s.avatar} src={props.avatar}/>\r\n            </div>\r\n            <div className={s.dialog + ' ' + s.active}>\r\n                <NavLink to={path}>{props.name}</NavLink>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n    if (props.my) {\r\n        return (\r\n            <div className={s.messageBlock1}>\r\n                <div className={s.icon}>\r\n                    <img className={s.avatar}\r\n                        src='https://cdn0.iconfinder.com/data/icons/ringtone-music-instruments/512/message-comment-dialog-speach-text-blue-round-512.png'/>\r\n                </div>\r\n                <div className={s.message}>\r\n                    {props.message}\r\n                </div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <div className={s.messageBlock2}>\r\n                <div className={s.message}>\r\n                    {props.message}\r\n                </div>\r\n                <div className={s.icon}>\r\n                    <img className={s.avatar}\r\n//                         src='https://cdn1.iconfinder.com/data/icons/social-messaging-ui-color-round-2/254000/103-512.png'/>\r\n                           src='https://lh3.googleusercontent.com/-W4_-RfoF-Gj1Heb6ZePq4SbNThOn8cPb9NCOiV0HuBrzSU-V2YHkTO4rz6wUOO1tY0'/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../Common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id}\r\n                                                             avatar={d.avatarUrl}/>);\r\n    let messagesElements = state.messages.map(m => <Message message={m.message} key={m.id} my={m.my}/>);\r\n\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>;\r\n\r\n    let addNewMessage = (values) => {\r\n        props.SendMessage(values.newMessageBody);\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messagesElements}</div>\r\n            </div>\r\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst maxLength100 = maxLengthCreator(100);\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name={'newMessageBody'} placeholder={'Enter your message'}\r\n                       validate={[required, maxLength100]}/>\r\n            </div>\r\n            <div>\r\n                <button>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogaddMessageForm'})(AddMessageForm);\r\n\r\nexport default Dialogs;","import {sendMessageCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        SendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}